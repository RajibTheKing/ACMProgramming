#include <iostream>
#include <regex>
#include <string>

using namespace std;

string trim(const std::string& str,
                 const std::string& whitespace = " \t")
{
    const auto strBegin = str.find_first_not_of(whitespace);
    if (strBegin == std::string::npos)
        return ""; // no content

    //const auto strEnd = str.find_last_not_of(whitespace);
    //const auto strRange = strEnd - strBegin + 1;
    int len = str.size();
    len = len-strBegin + 1;

    return str.substr(strBegin, len);
}

int main()
{
    //freopen("/Users/RajibTheKing/Desktop/OnTry/input.txt", "r+", stdin);
    string input;
    //regex number("[\\s]*[+-]?\\d+(\\.\\d+)?((\\.\\d+)|([e|E][+|-]?\\d+))[\\s]*$");

    regex number("[\\s]*[+-]?\\d+((\\.\\d+)|((\\.\\d+)?(([e|E][+-]?\\d+))))[\\s]*$");
    while(getline(cin, input))
    {
        if(input=="*"||input[0]=='*') break;

        if(regex_match(input,number))
        {
            cout<<trim(input)<<" is legal."<<endl;
        }
        else
        {
            cout<<trim(input)<<" is illegal."<<endl;
        }
    }


    return 0;

}

/*
   1.2
      1.
  1.0e-55
   e-12
  6.5E
  1e-12
  +4.1234567890E-99999
  7.6e+12.5
   99
*

k  s jhsfdkkjsa df  sadf s
  dsfgh sdf gk dsf

  2 2 3443 457 65
 2e3e2e2
 +e-2
 +2-1
 +2e-2
  +2e+2
 -2e-1-1
 442
 3465374657846358634563865923569548236458263458623562835682346582364582364
 34653746578463_5863456386592356_95482364582634586235_62835682346582364582364
 45643856
 4353 e 546456
 456456e345345
462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576
 462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576+
 462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576-
 +462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576
 462976592798713405193549823645926395628346589236458946e+4569223458726348563256238465872465876324576
 -462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576
 462976592798713405193549823645926395628346589236458946e-4569223458726348563256238465872465876324576
 +462976592798713405193549823645926395628346589236458946e-4569223458726348563256238465872465876324576
 -462976592798713405193549823645926395628346589236458946e+4569223458726348563256238465872465876324576
12e21
435e231e123e213
23e+355-14
+234+e234+E1234
3.2
459679346834596734956739476984396739476972394571936459823645863195629384658723653245235.37563286583645162847686587436587632475
457693476987495864364.5645634564564356e4563564564356543
457693476987495864364.5645634564564356e+4563564564356543
457693476987495864364.5645634564564356e-4563564564356543
+457693476987495864364.5645634564564356e4563564564356543
-457693476987495864364.5645634564564356e4563564564356543
457693476987495864364.+5645634564564356e4563564564356543
457693476987495864364.-5645634564564356e4563564564356543
*


k  s jhsfdkkjsa df  sadf s is illegal.
dsfgh sdf gk dsf  is illegal.
 is illegal.
2 2 3443 457 65 is illegal.
2e3e2e2 is illegal.
+e-2 is illegal.
+2-1 is illegal.
+2e-2 is legal.
+2e+2 is legal.
-2e-1-1  is illegal.
442 is illegal.
3465374657846358634563865923569548236458263458623562835682346582364582364 is illegal.
34653746578463_5863456386592356_95482364582634586235_62835682346582364582364    is illegal.
45643856 is illegal.
4353 e 546456 is illegal.
456456e345345 is legal.
462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576 is legal.
462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576+ is illegal.
462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576- is illegal.
+462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576 is legal.
462976592798713405193549823645926395628346589236458946e+4569223458726348563256238465872465876324576 is legal.
_-462976592798713405193549823645926395628346589236458946e4569223458726348563256238465872465876324576   is illegal.
462976592798713405193549823645926395628346589236458946e-4569223458726348563256238465872465876324576 is legal.
+462976592798713405193549823645926395628346589236458946e-4569223458726348563256238465872465876324576 is legal.
-462976592798713405193549823645926395628346589236458946e+4569223458726348563256238465872465876324576 is legal.
12e21 is legal.
435e231e123e213 is illegal.
23e+355-14 is illegal.
+234+e234+E1234 is illegal.
3.2 is legal.
459679346834596734956739476984396739476972394571936459823645863195629384658723653245235.37563286583645162847686587436587632475 is legal.
457693476987495864364.5645634564564356e4563564564356543 is legal.
457693476987495864364.5645634564564356e+4563564564356543 is legal.
457693476987495864364.5645634564564356e-4563564564356543 is legal.
+457693476987495864364.5645634564564356e4563564564356543 is legal.
-457693476987495864364.5645634564564356e4563564564356543 is legal.
457693476987495864364.+5645634564564356e4563564564356543 is illegal.
457693476987495864364.-5645634564564356e4563564564356543 is illegal.



*/
